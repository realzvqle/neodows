#include "draw.h"



#include <stdint.h>

// Define bitmaps for characters from 0x20 (space) to 0x7F (DEL)
static const uint8_t font[96][8] = {
    // Space
    [0x20 - 0x20] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}, // ' '
    // Exclamation Mark
    [0x21 - 0x20] = {0x00, 0x00, 0x00, 0x5F, 0x00, 0x00, 0x00, 0x00}, // '!'
    // Double Quotes
    [0x22 - 0x20] = {0x00, 0x00, 0x07, 0x00, 0x07, 0x00, 0x00, 0x00}, // '"'
    // Hash
    [0x23 - 0x20] = {0x14, 0x3E, 0x14, 0x3E, 0x14, 0x00, 0x00, 0x00}, // '#'
    // Dollar Sign
    [0x24 - 0x20] = {0x08, 0x1C, 0x08, 0x1C, 0x10, 0x1C, 0x08, 0x00}, // '$'
    // Percent
    [0x25 - 0x20] = {0x32, 0x33, 0x0C, 0x30, 0xCC, 0xC3, 0x00, 0x00}, // '%'
    // Ampersand
    [0x26 - 0x20] = {0x1C, 0x36, 0x36, 0x1A, 0x2C, 0x00, 0x00, 0x00}, // '&'
    // Apostrophe
    [0x27 - 0x20] = {0x00, 0x03, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00}, // '''
    // Left Parenthesis
    [0x28 - 0x20] = {0x00, 0x1C, 0x36, 0x60, 0x60, 0x36, 0x1C, 0x00}, // '('
    // Right Parenthesis
    [0x29 - 0x20] = {0x00, 0x1C, 0x36, 0x60, 0x60, 0x36, 0x1C, 0x00}, // ')'
    // Asterisk
    [0x2A - 0x20] = {0x00, 0x24, 0x1E, 0x24, 0x00, 0x00, 0x00, 0x00}, // '*'
    // Plus
    [0x2B - 0x20] = {0x00, 0x08, 0x08, 0x3E, 0x08, 0x08, 0x00, 0x00}, // '+'
    // Comma
    [0x2C - 0x20] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x07, 0x00}, // ','
    // Minus
    [0x2D - 0x20] = {0x00, 0x00, 0x00, 0x1E, 0x00, 0x00, 0x00, 0x00}, // '-'
    // Period
    [0x2E - 0x20] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x06, 0x00}, // '.'
    // Slash
    [0x2F - 0x20] = {0x00, 0x00, 0x30, 0x30, 0x0C, 0x0C, 0x00, 0x00}, // '/'
    // Zero
    [0x30 - 0x20] = {0x1C, 0x36, 0x36, 0x36, 0x36, 0x1C, 0x00, 0x00}, // '0'
    // One
    [0x31 - 0x20] = {0x00, 0x18, 0x38, 0x18, 0x18, 0x3E, 0x00, 0x00}, // '1'
    // Two
    [0x32 - 0x20] = {0x1C, 0x36, 0x06, 0x1C, 0x30, 0x3E, 0x00, 0x00}, // '2'
    // Three
    [0x33 - 0x20] = {0x1C, 0x36, 0x06, 0x1C, 0x06, 0x36, 0x1C, 0x00}, // '3'
    // Four
    [0x34 - 0x20] = {0x00, 0x0C, 0x1C, 0x3C, 0x7E, 0x0C, 0x00, 0x00}, // '4'
    // Five
    [0x35 - 0x20] = {0x3E, 0x30, 0x3C, 0x06, 0x06, 0x3C, 0x00, 0x00}, // '5'
    // Six
    [0x36 - 0x20] = {0x1C, 0x30, 0x30, 0x3E, 0x36, 0x1C, 0x00, 0x00}, // '6'
    // Seven
    [0x37 - 0x20] = {0x3E, 0x06, 0x0C, 0x18, 0x30, 0x30, 0x00, 0x00}, // '7'
    // Eight
    [0x38 - 0x20] = {0x1C, 0x36, 0x36, 0x1C, 0x36, 0x36, 0x1C, 0x00}, // '8'
    // Nine
    [0x39 - 0x20] = {0x1C, 0x36, 0x36, 0x1E, 0x06, 0x3C, 0x00, 0x00}, // '9'
    // Colon
    [0x3A - 0x20] = {0x00, 0x00, 0x00, 0x0C, 0x00, 0x0C, 0x00, 0x00}, // ':'
    // Semicolon
    [0x3B - 0x20] = {0x00, 0x00, 0x00, 0x0C, 0x00, 0x0C, 0x06, 0x00}, // ';'
    // Less Than
    [0x3C - 0x20] = {0x00, 0x06, 0x0C, 0x18, 0x0C, 0x06, 0x00, 0x00}, // '<'
    // Equals
    [0x3D - 0x20] = {0x00, 0x00, 0x1E, 0x00, 0x1E, 0x00, 0x00, 0x00}, // '='
    // Greater Than
    [0x3E - 0x20] = {0x00, 0x18, 0x0C, 0x06, 0x0C, 0x18, 0x00, 0x00}, // '>'
    // Question Mark
    [0x3F - 0x20] = {0x1C, 0x36, 0x06, 0x0C, 0x00, 0x00, 0x00, 0x00}, // '?'
    // At
    [0x40 - 0x20] = {0x1C, 0x36, 0x4A, 0x4A, 0x3E, 0x00, 0x00, 0x00}, // '@'
    // A
    [0x41 - 0x20] = {0x18, 0x24, 0x42, 0x42, 0x7E, 0x42, 0x42, 0x42}, // 'A'
    // B
    [0x42 - 0x20] = {0x7C, 0x42, 0x42, 0x7C, 0x42, 0x42, 0x42, 0x7C}, // 'B'
    // C
    [0x43 - 0x20] = {0x3C, 0x42, 0x40, 0x40, 0x40, 0x40, 0x42, 0x3C}, // 'C'
    // D
    [0x44 - 0x20] = {0x78, 0x4C, 0x42, 0x42, 0x42, 0x4C, 0x78, 0x00}, // 'D'
    // E
    [0x45 - 0x20] = {0x7E, 0x40, 0x40, 0x7E, 0x40, 0x40, 0x7E, 0x00}, // 'E'
    // F
    [0x46 - 0x20] = {0x7E, 0x40, 0x40, 0x7E, 0x40, 0x40, 0x40, 0x00}, // 'F'
    // G
    [0x47 - 0x20] = {0x3C, 0x42, 0x40, 0x47, 0x42, 0x3F, 0x00, 0x00}, // 'G'
    // H
    [0x48 - 0x20] = {0x7E, 0x42, 0x42, 0x7E, 0x42, 0x42, 0x42, 0x00}, // 'H'
    // I
    [0x49 - 0x20] = {0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x00}, // 'I'
    // J
    [0x4A - 0x20] = {0x06, 0x06, 0x06, 0x06, 0x42, 0x3E, 0x00, 0x00}, // 'J'
    // K
    [0x4B - 0x20] = {0x7E, 0x42, 0x4C, 0x78, 0x4C, 0x42, 0x42, 0x00}, // 'K'
    // L
    [0x4C - 0x20] = {0x7E, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x00}, // 'L'
    // M
    [0x4D - 0x20] = {0x7E, 0x7E, 0x66, 0x42, 0x42, 0x42, 0x42, 0x00}, // 'M'
    // N
    [0x4E - 0x20] = {0x7E, 0x7E, 0x42, 0x42, 0x42, 0x42, 0x42, 0x00}, // 'N'
    // O
    [0x4F - 0x20] = {0x1C, 0x36, 0x42, 0x42, 0x42, 0x36, 0x1C, 0x00}, // 'O'
    // P
    [0x50 - 0x20] = {0x7E, 0x42, 0x42, 0x7E, 0x40, 0x40, 0x40, 0x00}, // 'P'
    // Q
    [0x51 - 0x20] = {0x1C, 0x36, 0x42, 0x42, 0x4A, 0x3E, 0x00, 0x00}, // 'Q'
    // R
    [0x52 - 0x20] = {0x7E, 0x42, 0x42, 0x7E, 0x4C, 0x42, 0x42, 0x00}, // 'R'
    // S
    [0x53 - 0x20] = {0x1C, 0x36, 0x40, 0x1C, 0x06, 0x36, 0x1C, 0x00}, // 'S'
    // T
    [0x54 - 0x20] = {0x42, 0x42, 0x42, 0x42, 0x7E, 0x42, 0x42, 0x00}, // 'T'
    // U
    [0x55 - 0x20] = {0x7E, 0x42, 0x42, 0x42, 0x42, 0x3C, 0x00, 0x00}, // 'U'
    // V
    [0x56 - 0x20] = {0x7E, 0x42, 0x42, 0x42, 0x24, 0x18, 0x00, 0x00}, // 'V'
    // W
    [0x57 - 0x20] = {0x7E, 0x42, 0x42, 0x42, 0x66, 0x66, 0x00, 0x00}, // 'W'
    // X
    [0x58 - 0x20] = {0x42, 0x42, 0x24, 0x18, 0x24, 0x42, 0x42, 0x00}, // 'X'
    // Y
    [0x59 - 0x20] = {0x42, 0x42, 0x24, 0x1C, 0x1C, 0x18, 0x18, 0x00}, // 'Y'
    // Z
    [0x5A - 0x20] = {0x7E, 0x06, 0x0C, 0x18, 0x30, 0x7E, 0x00, 0x00}, // 'Z'
    // Left Bracket
    [0x5B - 0x20] = {0x00, 0x7E, 0x60, 0x60, 0x60, 0x60, 0x7E, 0x00}, // '['
    // Backslash
    [0x5C - 0x20] = {0x00, 0x66, 0x66, 0x30, 0x30, 0x00, 0x00, 0x00}, // '\'
    // Right Bracket
    [0x5D - 0x20] = {0x00, 0x7E, 0x06, 0x06, 0x06, 0x06, 0x7E, 0x00}, // ']'
    // Caret
    [0x5E - 0x20] = {0x00, 0x18, 0x3C, 0x66, 0x42, 0x00, 0x00, 0x00}, // '^'
    // Underscore
    [0x5F - 0x20] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00}, // '_'
    // Grave Accent
    [0x60 - 0x20] = {0x00, 0x00, 0x03, 0x07, 0x00, 0x00, 0x00, 0x00}, // '`'
};



void place_pixel(struct limine_framebuffer *framebuffer, int x, int y, uint32_t color){
    volatile uint32_t *fb_ptr = framebuffer->address;
    fb_ptr[y * (framebuffer->pitch / 4) + x] = color;
}


void place_rect(struct limine_framebuffer *framebuffer, int x, int y, int height, int width, uint32_t color){
    for(int i = 0; i < height; i++){
        for(int j = 0; j < width; j++){
            place_pixel(framebuffer, x + j, y + i, color);
        }
    }
}


